<?xml version="1.0" encoding="UTF-8"?>
<!-- [y] hybris Platform Copyright (c) 2000-2015 hybris AG All rights reserved. 
	This software is the confidential and proprietary information of hybris ("Confidential 
	Information"). You shall not disclose such Confidential Information and shall 
	use it only in accordance with the terms of the license agreement you entered 
	into with hybris. -->

<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:int="http://www.springframework.org/schema/integration"
	xmlns:file="http://www.springframework.org/schema/integration/file"
	xmlns:p="http://www.springframework.org/schema/p"
	xsi:schemaLocation="http://www.springframework.org/schema/integration http://www.springframework.org/schema/integration/spring-integration.xsd
		http://www.springframework.org/schema/integration/file http://www.springframework.org/schema/integration/file/spring-integration-file.xsd
		http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd">

	<bean id="baseDirectorySpar" class="java.lang.String">
		<constructor-arg value="#{baseDirectory}/${tenantId}/spar" />
	</bean>
	
	<!-- General Setup Start -->
	<bean id="fileOrderComparatorRMS" class="de.hybris.platform.acceleratorservices.dataimport.batch.FileOrderComparator">
		<property name="prefixPriority">
			<map>
				<entry key="SPAR_ECOM_PRODUCT" value="5" />
				<entry key="SPAR_ECOM_PROMOTION" value="4" />
				<entry key="SPAR_ECOM_PRICE" value="3" />
				<entry key="PLANO_DATA" value="2" />
				<entry key="SPAR_ECOM_INVENTORY" value="1" />
			</map>
		</property>
	</bean>
	<!-- General Setup End -->
	
	<!-- 1) Scan for files -->
	
	<bean id="batchSequenceIdParser" class="de.hybris.platform.acceleratorservices.dataimport.batch.util.SequenceIdParser">
		<property name="parser">
			<bean class="de.hybris.platform.acceleratorservices.util.RegexParser">
				<property name="regex" value="_(\d+)\.csv" />
			</bean>
		</property>
	</bean>
	<bean id="batchLanguageParser" class="de.hybris.platform.acceleratorservices.util.RegexParser">
		<property name="regex" value="-(\w{2})_(\d+)\.csv" />
	</bean>
	
	
	<file:inbound-channel-adapter id="batchFilesSpar"
		directory="#{baseDirectorySpar}" filename-regex="^(.*)_(\d+)\.csv" comparator="fileOrderComparatorRMS">
		<int:poller fixed-rate="1000" />
	</file:inbound-channel-adapter>


	<!-- 2) move the file to processing and setup header -->
	<file:outbound-gateway request-channel="batchFilesSpar"
		reply-channel="batchFilesSparProc" directory="#{baseDirectorySpar}/processing"
		delete-source-files="true" />
	
	<int:service-activator input-channel="batchFilesSparProc"
		output-channel="batchFilesHeaderInit" ref="sparHeaderSetupTask" method="execute" />
	
	<bean id="sparHeaderSetupTask"
		class="de.hybris.platform.acceleratorservices.dataimport.batch.task.HeaderSetupTask">
		<property name="catalog" value="sparProductCatalog" />
		<property name="net" value="false" />
		<property name="storeBaseDirectory" ref="baseDirectorySpar" />
	</bean>


	<!-- 3) transform csv to impex file -->
	<int:service-activator input-channel="batchFilesHeader" output-channel="batchFilesTran" ref="batchTransformerTask"
		method="execute" />
	<bean id="batchTransformerTask" 
		  class="com.spar.hcl.core.service.SparImpexTransformerTask" 
		  init-method="initConvertersMap">
		<property name="fieldSeparator" value=";" />
		<property name="encoding" value="UTF-8" />
		<property name="linesToSkip" value="1"/>
		<property name="cleanupHelper" ref="cleanupHelper" />
	</bean>
	
	
	
		<!-- 4) run impex import -->
	<int:service-activator input-channel="batchFilesTran" output-channel="batchFilesImp" ref="batchRunnerTask"
		method="execute" />
		
	<bean id="batchRunnerTask" class="com.spar.hcl.core.service.SparAbstractImpexRunnerTask">
		<property name="sessionService" ref="sessionService" />
		<property name="importService" ref="importService" />
		<property name="cleanupHelper" ref="cleanupHelper" />
		<lookup-method name="getImportConfig" bean="importConfig" /> 
	</bean>
	
	<!-- 5) Cleanup -->
	<int:service-activator input-channel="batchFilesImp" ref="batchCleanupTask" method="execute" />
	<bean id="batchCleanupTask" class="com.spar.hcl.core.service.SparCleanupTask">
		<property name="cleanupHelper" ref="cleanupHelper" />
	</bean>
	
	<!--   Variant's impex configurations Start - Rohan_C -->
	
	<!-- To upload SPAR Product Data -->
	       <bean id="batchSparProductConverterMapping"
	              class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.mapping.impl.DefaultConverterMapping"
	              p:mapping="SPAR_ECOM_PRODUCT" p:converter-ref="batchSparProductConverter" />
			<bean id="batchSparProductConverter"
			                     class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.impl.DefaultImpexConverter">
			                     <property name="header">
			                           <value>#{defaultImpexProductHeader}
			                                  $productCatalog=sparProductCatalog
			                                  $catalogVersion=catalogversion(catalog(id[default=$productCatalog]),version[default='Staged'])[unique=true,default=$productCatalog:Staged]
			                                  $approved=approvalstatus(code)[default='approved']
			                                  $taxGroup=Europe1PriceFactory_PTG(code)[default=in-vat-full]
											  $supercategories=supercategories(code, $catalogVersion)
											  
									          INSERT_UPDATE Product;variantType(code);$supercategories;code[unique=true];$approved;$catalogVersion;$taxGroup;maxOrderQuantity
			                           </value>
			                     </property>
			                     <property name="impexRow">
			                           <value>
			                                  ;SparVariantProduct;{4};{12};;;;{16}
			                           </value>
			                     </property>
		    </bean>
	
			<bean id="batchSparVariantConverterMapping"
			              class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.mapping.impl.DefaultConverterMapping"
			              p:mapping="SPAR_ECOM_PRODUCT" p:converter-ref="batchSparVariantConverter" />
			
			<bean id="batchSparVariantConverter"
	                     class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.impl.DefaultImpexConverter">
	                     <property name="header">
	                           <value>#{defaultImpexProductHeader}
	                                  $productCatalog=sparProductCatalog
	                                  $catalogVersion=catalogversion(catalog(id[default=$productCatalog]),version[default='Staged'])[unique=true,default=$productCatalog:Staged]
	                                  $supercategories=supercategories(code, $catalogVersion)
	                                  $approved=approvalstatus(code)[default='unapproved']
	                                  $lang=en
	                                  $baseProduct=baseProduct(code,$catalogVersion)
									  $taxGroup=Europe1PriceFactory_PTG(code)[default=in-vat-full]
									  
	                                  INSERT_UPDATE SparVariantProduct;code[unique=true];$baseProduct;$supercategories;ERPCreatedDate[dateformat=dd-MMM-yy];ERPDescription[lang=$lang];ERPBarcode;ERPShortDescription[lang=$lang];newItem;itemPickingTime;$approved;$catalogVersion;$taxGroup;maxOrderQuantity
	                           </value>
	                     </property>
	                     <property name="impexRow">
	                           <value>
	                                  ;{7};{12};{4};{8};{9};{10};{11};{13};{15};{6};;;{16}
	                           </value>
	                     </property>
	       </bean>
	
	<!--   Variant's impex configurations END - ROhan_C -->		
	
	<bean id="batchSparProductGallaryImageConverterMapping" 
		  class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.mapping.impl.DefaultConverterMapping" 
		  p:mapping="SPAR_ECOM_MULTIPLE_MEDIAS" 
		  p:converter-ref="batchSparProductGallaryImageConverter"/>
	<bean id="batchSparProductGallaryImageConverter"
			class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.impl.DefaultImpexConverter">
			<property name="header">	  
		 		<value>#{defaultImpexProductHeader}
		 			$productCatalog=sparProductCatalog
					$catalogVersion=catalogversion(catalog(id[default=$productCatalog]),version[default='Staged'])[unique=true,default=$productCatalog:Staged]
					$galleryImages=galleryImages(qualifier, $catalogVersion)
					UPDATE Product;code[unique=true];$galleryImages;$catalogVersion
				</value>
			</property>
			<property name="impexRow">
				<value>
					;{+0};{1}
				</value>
			</property>
	</bean>
	
	<bean id="batchSparMediaContainerConverterMapping" 
		  class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.mapping.impl.DefaultConverterMapping" 
		  p:mapping="SPAR_ECOM_MEDIA_CONTAINER"
		  p:converter-ref="batchSparMediaContainerConverter"/>
	<bean id="batchSparMediaContainerConverter" class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.impl.DefaultImpexConverter">
		<property name="header">
			<value>#{defaultImpexProductHeader}
				# Import media container
				$productCatalog=sparProductCatalog
				$catalogVersion=catalogversion(catalog(id[default=$productCatalog]),version[default='Staged'])[unique=true,default=$productCatalog:Staged]
								
				INSERT_UPDATE MediaContainer;qualifier[unique=true];medias(code, $catalogVersion);$catalogVersion
			</value>
		</property>
		<property name="impexRow">
			<value>;{+0};{1}</value>
		</property>
	</bean>
	
	<bean id="batchSparProductReferenceConverterMapping" 
		  class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.mapping.impl.DefaultConverterMapping" 
		  p:mapping="SPAR_ECOM_PRODREFERENCE" 
		  p:converter-ref="batchSparProductReferenceConverter"/>
	<bean id="batchSparProductReferenceConverter"
			class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.impl.DefaultImpexConverter">
			<property name="header">	  
		 		<value>#{defaultImpexProductHeader}
		 			$productCatalog=sparProductCatalog
					$productCatalogName=Spar Product Catalog
					$catalogVersion=catalogversion(catalog(id[default=$productCatalog]),version[default='Staged'])[unique=true,default=$productCatalog:Staged]
					$source=source(code,$catalogVersion)
					$target=target(code,$catalogVersion)

					INSERT_UPDATE ProductReference;$source[unique=true];$target[unique=true];referenceType(code);active;preselected
				</value>
			</property>
			<property name="impexRow">
				<value>
					;{+0};{+1};{+2};{3};{4}
				</value>
			</property>
	</bean>
	
	 <bean id="batchSparProductRefConverterMapping"
	              class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.mapping.impl.DefaultConverterMapping"
	              p:mapping="SPAR_ECOM_PRODREFERENCE" p:converter-ref="batchSparProductRefConverter" />
			<bean id="batchSparProductRefConverter"
			                     class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.impl.DefaultImpexConverter">
			                     <property name="header">
			                           <value>#{defaultImpexProductHeader}
			                                  $productCatalog=sparProductCatalog
			                                  $catalogVersion=catalogversion(catalog(id[default=$productCatalog]),version[default='Staged'])[unique=true,default=$productCatalog:Staged]
			                                  $supercategories=supercategories(code, $catalogVersion)
											  UPDATE SparVariantProduct;code[unique=true];$catalogVersion;modifiedtime[dateformat=MM/dd/yyyy H:MM:SS a]
			                           </value>
			                     </property>
			                     <property name="impexRow">
			                           <value>
			                                  ;{+0};;
			                           </value>
			                     </property>
		    </bean>
	
	
	<!-- To upload SPAR PlanoGram START-->
	<bean id="batchSparPlanogramConverterMapping"
		class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.mapping.impl.DefaultConverterMapping"
		p:mapping="PLANO_DATA" p:converter-ref="batchSparPlanogramConverter" />

		

	<bean id="batchSparPlanogramConverter"
		class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.impl.DefaultImpexConverter">
		<property name="header">
			<value>#{defaultImpexProductHeader}
								
				INSERT_UPDATE PlanoGram;warehouse(code)[unique=true];productId[unique=true];aisleNo;bay;shelf;position;facing
				
			</value>
		</property>
		<property name="impexRow">
			<value>
				;{0};{1};{2};{3};{4};{5};{6}
			</value>
		</property>
	</bean>
	<!-- To upload SPAR PlanoGram END-->
	
	<!-- To upload SPAR Product UOM START -->
	
	<bean id="batchSparPriceUnitConverterMapping" 
		  class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.mapping.impl.DefaultConverterMapping" 
		  p:mapping="SPAR_ECOM_PRICE" 
		  p:converter-ref="batchSparPriceUnitConverter"/>
	<bean id="batchSparPriceUnitConverter"
			class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.impl.DefaultImpexConverter">
			<property name="header">	  
		 		<value>#{defaultImpexProductHeader}
					INSERT_UPDATE Unit;unitType[unique=true];code[unique=true];name[lang=en];conversion[default=1]
				</value>
			</property>
			<property name="impexRow">
				<value>
					;packaging-{+6};{+6};{+6}
				</value>
			</property>
	</bean>
	
	<bean id="batchSparProductPriceUnitConverterMapping" 
		  class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.mapping.impl.DefaultConverterMapping" 
		  p:mapping="SPAR_ECOM_PRICE" 
		  p:converter-ref="batchSparProductPriceUnitConverter"/>
	<bean id="batchSparProductPriceUnitConverter"
			class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.impl.DefaultImpexConverter">
			<property name="header">	  
		 		<value>#{defaultImpexProductHeader}
		 			$productCatalog=sparProductCatalog
					$catalogVersion=catalogversion(catalog(id[default=$productCatalog]),version[default='Staged'])[unique=true,default=$productCatalog:Staged]
					INSERT_UPDATE Product;code[unique=true];unit(code);$catalogVersion
				</value>
			</property>
			<property name="impexRow">
				<value>
					;{+0};{+6}
				</value>
			</property>
	</bean>
	
	<!-- To upload SPAR Product UOM END -->	
	
	<!-- To upload SPAR Product Price START -->
			  
	<bean id="batchSparPriceConverterMapping"
		class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.mapping.impl.DefaultConverterMapping"
		p:mapping="SPAR_ECOM_PRICE" p:converter-ref="batchSparPriceConverter" />
		
	<bean id="batchSparPriceConverter"
			class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.impl.DefaultImpexConverter">
			<property name="header">
				<value>#{defaultImpexProductHeader}
									
					INSERT_UPDATE SparPriceRow;productId[unique=true];currency(isocode);startTime[dateformat=dd-MMM-yy];endTime[dateformat=dd-MMM-yy];warehouse(code)[unique=true];price;unit(code);unitMRP;sparBarcode;checkForPromotion;benefitType(code);productOnBogo;promoMessage[lang=en];associatedFreeProduct;bestDeal;regularOffer;combiOffer;discount;popularity

				</value>
			</property>
			<property name="impexRow">
				<value>
					;{0};{1};{2};{3};{4};{5};{6};{7};{8};{9};{12};{13};{14};{15};{16};{17};{18};{19};{20}
				</value>
			</property>
	</bean>

	<!-- To upload SPAR Product Price END -->
		
	<!-- To upload SPAR Product Inventory START -->
	
	<bean id="batchSparStockConverterMapping"
		class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.mapping.impl.DefaultConverterMapping"
		p:mapping="SPAR_ECOM_INVENTORY" p:converter-ref="batchSparStockConverter" />
		
	<bean id="batchSparStockConverter"
			class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.impl.DefaultImpexConverter">
			<property name="header">
				<value>#{defaultImpexProductHeader}
									
					INSERT_UPDATE StockLevel;productCode[unique=true];warehouse(code)[unique=true];available;inStockStatus(code)[default='notSpecified'];rmsModifiedTime[dateformat=MM/dd/yyyy H:MM:SS a]
					
				</value>
			</property>
			<property name="impexRow">
				<value>
					;{0};{1};{2};;{4}
				</value>
			</property>
	</bean>
	
	<!-- To upload SPAR Product Inventory END -->


	<!--  This has been implemented in S1 after a design change. UnitCondition in S1 will come from RMS feed.  - START - ROHAN_C-->
	
		<!--  Variant Dropdown values (unit Condition in SparVariantProduct) START- Rohan_c -->
		
		<bean id="batchSparVariantUnitConditionConverterMapping"
		              class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.mapping.impl.DefaultConverterMapping"
		              p:mapping="SPAR_ECOM_PRODUCT" p:converter-ref="batchSparVariantUnitConditionConverter" />
		
		<bean id="batchSparVariantUnitConditionConverter"
		                     class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.impl.DefaultImpexConverter">
		                     <property name="header">
		                           <value>#{defaultImpexProductHeader}
		                           		  # Macros / Replacement Parameter definitions
		                                  $productCatalog=sparProductCatalog
		                                  $catalogVersion=catalogversion(catalog(id[default=$productCatalog]),version[default='Staged'])[unique=true,default=$productCatalog:Staged]
		                                  UPDATE SparVariantProduct;code[unique=true];unitCondition;$catalogVersion
		                           </value>
		                     </property>
		                     <property name="impexRow">
		                           <value>
		                                  ;{+7};{14}
		                           </value>
		                     </property>
		       </bean>

		<!--  Variant Dropdown values (unit Condition in SparVariantProduct) END- Rohan_c -->
		
		<!--  Update base product online product start here -->
		
		<bean id="batchSparVariantBaseProductConverterMapping"
		              class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.mapping.impl.DefaultConverterMapping"
		              p:mapping="SPAR_ECOM_PRODUCT" p:converter-ref="batchSparVariantBaseProductConverter" />
		
		<bean id="batchSparVariantBaseProductConverter"
		                     class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.impl.DefaultImpexConverter">
		                     <property name="header">
		                           <value>#{defaultImpexProductHeader}
		                           		  # Macros / Replacement Parameter definitions
		                                  $productCatalog=sparProductCatalog
		                                  $catalogVersion=catalogversion(catalog(id[default=$productCatalog]),version[default='Online'])[unique=true,default=$productCatalog:Online]
		                                  $baseProduct=baseProduct(code,$catalogVersion)
		                                  UPDATE SparVariantProduct;code[unique=true];$baseProduct;$catalogVersion
		                           </value>
		                     </property>
		                     <property name="impexRow">
		                           <value>
		                                  ;{+7};{+12}
		                           </value>
		                     </property>
		       </bean>

		<!--  Update base product online product end here -->
		
		<!--  This config is for Combos or Multi pack functionality. This is to process Parent and Child SKUs CSV Feed Start  -->
	<bean id="batchSparVariantCombiSKUsConverterMapping"
		              class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.mapping.impl.DefaultConverterMapping"
		              p:mapping="SPAR_PRODUCT_COMBOS_MULTIPACK_SKUs" p:converter-ref="batchSparVariantCombiSKUsConverter" />
		<bean id="batchSparVariantCombiSKUsConverter"
		                     class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.impl.DefaultImpexConverter">
		                     <property name="header">
		                           <value>#{defaultImpexProductHeader}
		                           		  # Macros / Replacement Parameter definitions
		                                  $productCatalog=sparProductCatalog
		                                  $catalogVersion=catalogversion(catalog(id[default=$productCatalog]),version[default='Staged'])[unique=true,default=$productCatalog:Staged]
		                                  UPDATE SparVariantProduct;code[unique=true];childSKUs;$catalogVersion
		                           </value>
		                     </property>
		                     <property name="impexRow">
		                           <value>
		                                  ;{+0};{+1}
		                           </value>
		                     </property>
		       </bean>	
	<!--  This config is for Combos or Multi pack functionality. This is to process Parent and Child SKUs CSV Feed end  -->	
	
		
		<!--  This has been implemented in S1 after a design change. UnitCondition in S1 will come from RMS feed.  - END - ROHAN_C-->
		
	<!-- Promotion feed import - Start -->	
		<bean id="promotionPercentDiscountConverterMapping"
		              class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.mapping.impl.DefaultConverterMapping"
		              p:mapping="SPAR_ECOM_PROMOTION_PERCENT" p:converter-ref="promotionPercentDiscountConverter" />
		
		<bean id="promotionPercentDiscountConverter"
		                     class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.impl.DefaultImpexConverter">
		                     <property name="header">
		                           <value>#{defaultImpexProductHeader}
		                           		  # Macros / Replacement Parameter definitions
		                                  $defaultPromoGrp=sparPromoGrp
		                                  $productCatalog=sparProductCatalog
		                                  $catalogVersion=catalogversion(catalog(id[default=$productCatalog]),version[default='Online'])[unique=true,default=$productCatalog:Online]
		                     INSERT_UPDATE ProductPercentageDiscountPromotion;code[unique=true];messageFired[lang=en];percentageDiscount;priority;products(code,$catalogVersion);startDate[dateformat=dd-MMM-yy];endDate[dateformat=dd-MMM-yy];enabled[default=false][unique=true];PromotionGroup(Identifier[default=$defaultPromoGrp])
		                           </value>
		                     </property>
		                     <property name="impexRow">
		                           <value>
		                                 ;{+0};{1};{2};{3};{4};{5};{6};{7}
		                           </value>
		                     </property>
		       </bean>
		       
		       <bean id="promotionPercentDiscountRestrConverterMapping"
		              class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.mapping.impl.DefaultConverterMapping"
		              p:mapping="SPAR_ECOM_PROMOTION_PERCENT" p:converter-ref="promotionPercentDiscountRestrConverter" />
		
		<bean id="promotionPercentDiscountRestrConverter"
		                     class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.impl.DefaultImpexConverter">
		                     <property name="header">
		                           <value>
		            INSERT_UPDATE SparWarehousePromotionRestriction;promotion(code)[unique=true];warehouses(code)
		                           </value>
		                     </property>
		                     <property name="impexRow">
		                           <value>
		                                 ;{+0};{8}
		                           </value>
		                     </property>
		       </bean> 
		       
		       
		<bean id="promotionBOGOFConverterMapping"
		              class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.mapping.impl.DefaultConverterMapping"
		              p:mapping="SPAR_ECOM_PROMOTION_BOGOF" p:converter-ref="promotionBOGOFConverter" />
		
		<bean id="promotionBOGOFConverter"
		                     class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.impl.DefaultImpexConverter">
		                     <property name="header">
		                           <value>#{defaultImpexProductHeader}
		                           		  # Macros / Replacement Parameter definitions
		                                  $defaultPromoGrp=sparPromoGrp
		                                  $productCatalog=sparProductCatalog
		                                  $catalogVersion=catalogversion(catalog(id[default=$productCatalog]),version[default='Online'])[unique=true,default=$productCatalog:Online]
		                   INSERT_UPDATE SparProductBOGOFPromotion;code[unique=true];messageFired[lang=en];messageCouldHaveFired[lang=en];qualifyingCount;freeCount;priority;products(code,$catalogVersion);startDate[dateformat=dd-MMM-yy];endDate[dateformat=dd-MMM-yy];enabled[default=false][unique=true];PromotionGroup(Identifier[default=$defaultPromoGrp])
		                           </value>
		                     </property>
		                     <property name="impexRow">
		                           <value>
		                                 ;{+0};{1};{2};{3};{4};{5};{6};{7};{8};{9}
		                           </value>
		                     </property>
		       </bean>
		       
		       <bean id="promotionBOGOFRestrConverterMapping"
		              class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.mapping.impl.DefaultConverterMapping"
		              p:mapping="SPAR_ECOM_PROMOTION_BOGOF" p:converter-ref="promotionBOGOFRestrConverter" />
		
		<bean id="promotionBOGOFRestrConverter"
		                     class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.impl.DefaultImpexConverter">
		                     <property name="header">
		                           <value>
		            INSERT_UPDATE SparWarehousePromotionRestriction;promotion(code)[unique=true];warehouses(code)
		                           </value>
		                     </property>
		                     <property name="impexRow">
		                           <value>
		                                 ;{+0};{10}
		                           </value>
		                     </property>
		       </bean>
		       
		       <bean id="promotionPriceConverterMapping"
		              class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.mapping.impl.DefaultConverterMapping"
		              p:mapping="SPAR_ECOM_PROMOTION_BUNDLE" p:converter-ref="promotionPriceConverter" />
		
				<bean id="promotionPriceConverter"
		                     class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.impl.DefaultImpexConverter">
		                     <property name="header">
		                           <value>#{defaultImpexProductHeader}
		                           		  # Macros / Replacement Parameter definitions
		                                  $defaultPromoGrp=sparPromoGrp
		                                  $productCatalog=sparProductCatalog
		                                  $catalogVersion=catalogversion(catalog(id[default=$productCatalog]),version[default='Online'])[unique=true,default=$productCatalog:Online]
		                   INSERT_UPDATE PromotionPriceRow;Currency(isocode)[unique=true];price[unique=true]
		                           </value>
		                     </property>
		                     <property name="impexRow">
		                           <value>
		                                 ;{+4};{+5}
		                           </value>
		                     </property>
		       </bean>
		       
		        <bean id="promotionBundleConverterMapping"
		              class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.mapping.impl.DefaultConverterMapping"
		              p:mapping="SPAR_ECOM_PROMOTION_BUNDLE" p:converter-ref="promotionBundleConverter" />
		
		<bean id="promotionBundleConverter"
		                     class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.impl.DefaultImpexConverter">
		                     <property name="header">
		                           <value>#{defaultImpexProductHeader}
		                           		  # Macros / Replacement Parameter definitions
		                                  $defaultPromoGrp=sparPromoGrp
		                                  $productCatalog=sparProductCatalog
		                                  $catalogVersion=catalogversion(catalog(id[default=$productCatalog]),version[default='Online'])[unique=true,default=$productCatalog:Online]
		                 INSERT_UPDATE ProductBundlePromotion;code[unique=true];messageFired[lang=en];messageCouldHaveFired[lang=en];priority;bundlePrices(currency(isocode),price);products(code,$catalogVersion);startDate[dateformat=dd-MMM-yy];endDate[dateformat=dd-MMM-yy];enabled[default=false][unique=true];PromotionGroup(Identifier[default=$defaultPromoGrp])
		                           </value>
		                     </property>
		                     <property name="impexRow">
		                           <value>
		                                 ;{+0};{1};{2};{3};{4}:{5};{6};{7};{8};{9}
		                           </value>
		                     </property>
		       </bean>
		       
		       <bean id="promotionBundleRestrConverterMapping"
		              class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.mapping.impl.DefaultConverterMapping"
		              p:mapping="SPAR_ECOM_PROMOTION_BUNDLE" p:converter-ref="promotionBundleRestrConverter" />
		
		<bean id="promotionBundleRestrConverter"
		                     class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.impl.DefaultImpexConverter">
		                     <property name="header">
		                           <value>
		            INSERT_UPDATE SparWarehousePromotionRestriction;promotion(code)[unique=true];warehouses(code)
		                           </value>
		                     </property>
		                     <property name="impexRow">
		                           <value>
		                                 ;{+0};{10}
		                           </value>
		                     </property>
		       </bean>
		       
		<!--        Fixed Price import -->
		
		        <bean id="promotionFixPriceConverterMapping"
		              class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.mapping.impl.DefaultConverterMapping"
		              p:mapping="SPAR_ECOM_PROMOTION_FIXED_PRICE" p:converter-ref="promotionFixPriceConverter" />
		
				<bean id="promotionFixPriceConverter"
		                     class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.impl.DefaultImpexConverter">
		                     <property name="header">
		                           <value>#{defaultImpexProductHeader}
		                           		  # Macros / Replacement Parameter definitions
		                                  $defaultPromoGrp=sparPromoGrp
		                                  $productCatalog=sparProductCatalog
		                                  $catalogVersion=catalogversion(catalog(id[default=$productCatalog]),version[default='Online'])[unique=true,default=$productCatalog:Online]
		                   INSERT_UPDATE PromotionPriceRow;Currency(isocode)[unique=true];price[unique=true]
		                           </value>
		                     </property>
		                     <property name="impexRow">
		                           <value>
		                                 ;{+3};{+4}
		                           </value>
		                     </property>
		       </bean>
		       
		        <bean id="promotionFixedPriceConverterMapping"
		              class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.mapping.impl.DefaultConverterMapping"
		              p:mapping="SPAR_ECOM_PROMOTION_FIXED_PRICE" p:converter-ref="promotionFixedPriceConverter" />
		
				<bean id="promotionFixedPriceConverter"
		                     class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.impl.DefaultImpexConverter">
		                     <property name="header">
		                           <value>#{defaultImpexProductHeader}
		                           		  # Macros / Replacement Parameter definitions
		                                  $defaultPromoGrp=sparPromoGrp
		                                  $productCatalog=sparProductCatalog
		                                  $catalogVersion=catalogversion(catalog(id[default=$productCatalog]),version[default='Online'])[unique=true,default=$productCatalog:Online]
		               INSERT_UPDATE ProductFixedPricePromotion;code[unique=true];messageFired[lang=en];priority;productFixedUnitPrice(currency(isocode),price);products(code,$catalogVersion);startDate[dateformat=dd-MMM-yy];endDate[dateformat=dd-MMM-yy];enabled[default=false][unique=true];PromotionGroup(Identifier[default=$defaultPromoGrp])
		                           </value>
		                     </property>
		                     <property name="impexRow">
		                           <value>
		                                 ;{+0};{1};{2};{3}:{4};{5};{6};{7};{8}
		                           </value>
		                     </property>
		       </bean>
		       
		        <bean id="promotionFixedPriceRestrConverterMapping"
		              class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.mapping.impl.DefaultConverterMapping"
		              p:mapping="SPAR_ECOM_PROMOTION_FIXED_PRICE" p:converter-ref="promotionFixedPriceRestrConverter" />
		
				<bean id="promotionFixedPriceRestrConverter"
		                     class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.impl.DefaultImpexConverter">
		                     <property name="header">
		                           <value>
		            INSERT_UPDATE SparWarehousePromotionRestriction;promotion(code)[unique=true];warehouses(code)
		                           </value>
		                     </property>
		                     <property name="impexRow">
		                           <value>
		                                 ;{+0};{9}
		                           </value>
		                     </property>
		       </bean>
		       
		       <bean id="promotionPartnerPriceConverterMapping"
		              class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.mapping.impl.DefaultConverterMapping"
		              p:mapping="SPAR_ECOM_PROMOTION_PERFECT_PARTNER" p:converter-ref="promotionPartnerPriceConverter" />
		
				<bean id="promotionPartnerPriceConverter"
		                     class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.impl.DefaultImpexConverter">
		                     <property name="header">
		                           <value>#{defaultImpexProductHeader}
		                           		  # Macros / Replacement Parameter definitions
		                                  $defaultPromoGrp=sparPromoGrp
		                                  $productCatalog=sparProductCatalog
		                                  $catalogVersion=catalogversion(catalog(id[default=$productCatalog]),version[default='Online'])[unique=true,default=$productCatalog:Online]
		                   INSERT_UPDATE PromotionPriceRow;Currency(isocode)[unique=true];price[unique=true]
		                           </value>
		                     </property>
		                     <property name="impexRow">
		                           <value>
		                                 ;{+4};{+5}
		                           </value>
		                     </property>
		       </bean>
		       
		       <bean id="promotionPerfectPartnerConverterMapping"
		              class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.mapping.impl.DefaultConverterMapping"
		              p:mapping="SPAR_ECOM_PROMOTION_PERFECT_PARTNER" p:converter-ref="promotionPerfectPartnerConverter" />
		
				<bean id="promotionPerfectPartnerConverter"
		                     class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.impl.DefaultImpexConverter">
		                     <property name="header">
		                           <value>#{defaultImpexProductHeader}
		                           		  # Macros / Replacement Parameter definitions
		                                  $defaultPromoGrp=sparPromoGrp
		                                
		                                  $productCatalog=sparProductCatalog
		                                  $catalogVersion=catalogversion(catalog(id[default=$productCatalog]),version[default='Online'])[unique=true,default=$productCatalog:Online]
		             					  $partnerProduct=partnerProduct(code,$catalogVersion)	
		              INSERT_UPDATE ProductOneToOnePerfectPartnerPromotion;code[unique=true];messageFired[lang=en];messageCouldHaveFired[lang=en];$partnerProduct;bundlePrices(currency(isocode),price);priority;baseProduct(code,$catalogVersion);startDate[dateformat=dd-MMM-yy];endDate[dateformat=dd-MMM-yy];enabled[default=false][unique=true];PromotionGroup(Identifier[default=$defaultPromoGrp])
		                           </value>
		                     </property>
		                     <property name="impexRow">
		                           <value>
		                                 ;{+0};{1};{2};{3};{4}:{5};{6};{7};{8};{9};{10}
		                           </value>
		                     </property>
		       </bean>
		       
		       <bean id="promotionPerfectPartnerRestrConverterMapping"
		              class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.mapping.impl.DefaultConverterMapping"
		              p:mapping="SPAR_ECOM_PROMOTION_PERFECT_PARTNER" p:converter-ref="promotionPerfectPartnerRestrConverter" />
		
				<bean id="promotionPerfectPartnerRestrConverter"
		                     class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.impl.DefaultImpexConverter">
		                     <property name="header">
		                           <value>
		            INSERT_UPDATE SparWarehousePromotionRestriction;promotion(code)[unique=true];warehouses(code)
		                           </value>
		                     </property>
		                     <property name="impexRow">
		                           <value>
		                                 ;{+0};{11}
		                           </value>
		                     </property>
		       </bean>
		       
		     <!-- Custom Fixed price promotion - Start -->
		          <bean id="sparPromotionFixPriceConverterMapping"
		              class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.mapping.impl.DefaultConverterMapping"
		              p:mapping="SPAR_ECOM_PROMOTION_FIXED_PRICE_DISCOUNT" p:converter-ref="sparPromotionFixPriceConverter" />
		
				<bean id="sparPromotionFixPriceConverter"
		                     class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.impl.DefaultImpexConverter">
		                     <property name="header">
		                           <value>#{defaultImpexProductHeader}
		                           		  # Macros / Replacement Parameter definitions
		                                  $defaultPromoGrp=sparPromoGrp
		                                  $productCatalog=sparProductCatalog
		                                  $catalogVersion=catalogversion(catalog(id[default=$productCatalog]),version[default='Online'])[unique=true,default=$productCatalog:Online]
		                   INSERT_UPDATE PromotionPriceRow;Currency(isocode)[unique=true];price[unique=true]
		                           </value>
		                     </property>
		                     <property name="impexRow">
		                           <value>
		                                 ;{+3};{+4}
		                           </value>
		                     </property>
		       </bean>
		       
		        <bean id="sparPromotionFixedPriceConverterMapping"
		              class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.mapping.impl.DefaultConverterMapping"
		              p:mapping="SPAR_ECOM_PROMOTION_FIXED_PRICE_DISCOUNT" p:converter-ref="sparPromotionFixedPriceConverter" />
		
				<bean id="sparPromotionFixedPriceConverter"
		                     class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.impl.DefaultImpexConverter">
		                     <property name="header">
		                           <value>#{defaultImpexProductHeader}
		                           		  # Macros / Replacement Parameter definitions
		                                  $defaultPromoGrp=sparPromoGrp
		                                  $productCatalog=sparProductCatalog
		                                  $catalogVersion=catalogversion(catalog(id[default=$productCatalog]),version[default='Online'])[unique=true,default=$productCatalog:Online]
		               INSERT_UPDATE SparProductFixedPriceDiscountPromotion;code[unique=true];messageFired[lang=en];priority;bundlePrices(currency(isocode),price);products(code,$catalogVersion);startDate[dateformat=dd-MMM-yy];endDate[dateformat=dd-MMM-yy];enabled[default=false][unique=true];messageCouldHaveFired[lang=en];qualifyingCount;PromotionGroup(Identifier[default=$defaultPromoGrp])
		                           </value>
		                     </property>
		                     <property name="impexRow">
		                           <value>
		                                 ;{+0};{1};{2};{3}:{4};{5};{6};{7};{8};{9};{10}
		                           </value>
		                     </property>
		       </bean>
		       
		        <bean id="sparPromotionFixedPriceRestrConverterMapping"
		              class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.mapping.impl.DefaultConverterMapping"
		              p:mapping="SPAR_ECOM_PROMOTION_FIXED_PRICE_DISCOUNT" p:converter-ref="sparPromotionFixedPriceRestrConverter" />
		
				<bean id="sparPromotionFixedPriceRestrConverter"
		                     class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.impl.DefaultImpexConverter">
		                     <property name="header">
		                           <value>
		            INSERT_UPDATE SparWarehousePromotionRestriction;promotion(code)[unique=true];warehouses(code)
		                           </value>
		                     </property>
		                     <property name="impexRow">
		                           <value>
		                                 ;{+0};{11}
		                           </value>
		                     </property>
		       </bean>
		       <!-- Custom fixed price - End -->
		       
		       <!-- Custom percentageDiscount - Start -->
		                
		       
		        <bean id="sparPromotionPercentDiscountConverterMapping"
		              class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.mapping.impl.DefaultConverterMapping"
		              p:mapping="SPAR_ECOM_PROMOTION_CUSTOM_PERCENT_DISCOUNT" p:converter-ref="sparPromotionPercentDiscountConverter" />
		
				<bean id="sparPromotionPercentDiscountConverter"
		                     class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.impl.DefaultImpexConverter">
		                     <property name="header">
		                           <value>#{defaultImpexProductHeader}
		                           		  # Macros / Replacement Parameter definitions
		                                  $defaultPromoGrp=sparPromoGrp
		                                  $productCatalog=sparProductCatalog
		                                  $catalogVersion=catalogversion(catalog(id[default=$productCatalog]),version[default='Online'])[unique=true,default=$productCatalog:Online]
		            INSERT_UPDATE SparProductPercentDiscountPromotion;code[unique=true];messageFired[lang=en];percentageDiscount;priority;products(code,$catalogVersion);startDate[dateformat=dd-MMM-yy];endDate[dateformat=dd-MMM-yy];enabled[default=false][unique=true];messageCouldHaveFired[lang=en];qualifyingCount;PromotionGroup(Identifier[default=$defaultPromoGrp])
		                           </value>
		                     </property>
		                     <property name="impexRow">
		                           <value>
		                                 ;{+0};{1};{2};{3};{4};{5};{6};{7};{8};{9}
		                               
		                           </value>
		                     </property>
		       </bean>
		       
		        <bean id="sparPromotionPercentDiscountRestrConverterMapping"
		              class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.mapping.impl.DefaultConverterMapping"
		              p:mapping="SPAR_ECOM_PROMOTION_CUSTOM_PERCENT_DISCOUNT" p:converter-ref="sparPromotionPercentDiscountRestrConverter" />
		
				<bean id="sparPromotionPercentDiscountRestrConverter"
		                     class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.impl.DefaultImpexConverter">
		                     <property name="header">
		                           <value>
		            INSERT_UPDATE SparWarehousePromotionRestriction;promotion(code)[unique=true];warehouses(code)
		                           </value>
		                     </property>
		                     <property name="impexRow">
		                           <value>
		                                 ;{+0};{10}
		                           </value>
		                     </property>
		       </bean>
		       <!-- Custom percentage Discount -End -->
		       
		       
		        <!-- Pavan -->
		        <bean id="promotionFixedPriceCatThresholdConverterMapping"
		              class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.mapping.impl.DefaultConverterMapping"
		              p:mapping="SPAR_ECOM_PROMOTION_CATEGORY_FIXED_PRICE" p:converter-ref="promotionFixedPriceCatThresholdConverter" />
		
				<bean id="promotionFixedPriceCatThresholdConverter"
		                     class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.impl.DefaultImpexConverter">
		                     <property name="header">
		                           <value>
		                  				INSERT_UPDATE PromotionPriceRow;Currency(isocode)[unique=true];price[unique=true]
		                           </value>
		                     </property>
		                     <property name="impexRow">
		                           <value>
		                                 ;{+6};{+7}
		                           </value>
		                     </property>
		       </bean>
		       
		       <bean id="promotionFixedPriceCatPriceConverterMapping"
		              class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.mapping.impl.DefaultConverterMapping"
		              p:mapping="SPAR_ECOM_PROMOTION_CATEGORY_FIXED_PRICE" p:converter-ref="promotionFixedPriceCatPriceConverter" />
		
				<bean id="promotionFixedPriceCatPriceConverter"
		                     class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.impl.DefaultImpexConverter">
		                     <property name="header">
		                           <value>
		                  				INSERT_UPDATE PromotionPriceRow;Currency(isocode)[unique=true];price[unique=true]
		                           </value>
		                     </property>
		                     <property name="impexRow">
		                           <value>
		                                 ;{+6};{+8}
		                           </value>
		                     </property>
		       </bean>
		       
		       
		       <bean id="promotionFixedPriceCategoryConverterMapping"
		              class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.mapping.impl.DefaultConverterMapping"
		              p:mapping="SPAR_ECOM_PROMOTION_CATEGORY_FIXED_PRICE" p:converter-ref="promotionFixedPriceCategoryConverter" />
		
				<bean id="promotionFixedPriceCategoryConverter"
		                     class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.impl.DefaultImpexConverter">
		                     <property name="header">
		                           <value>#{defaultImpexProductHeader}
		                           		  # Macros / Replacement Parameter definitions
		                                  $defaultPromoGrp=sparPromoGrp
		                                  $productCatalog=sparProductCatalog
		                                  
		                                  $catalogVersion=catalogversion(catalog(id[default=$productCatalog]),version[default='Online'])[unique=true,default=$productCatalog:Online]
		                                  $supercategories=supercategories(code)
		                                  
		               INSERT_UPDATE OrderThresholdDiscountPromotion;code[unique=true];messageFired[lang=en];messageCouldHaveFired[lang=en];priority;startDate[dateformat=dd-MMM-yy];endDate[dateformat=dd-MMM-yy];thresholdTotals(currency(isocode),price);discountPrices(currency(isocode),price);enabled[default=false][unique=true];PromotionGroup(Identifier[default=$defaultPromoGrp])
		                           </value>
		                     </property>
		                     <property name="impexRow">
		                           <value>
		                                 ;{+0};{1};{2};{3};{4};{5};{6}:{7};{6}:{8};{9}
		                           </value>
		                     </property>
		       </bean>
		       
		       <bean id="promotionFixedPriceCategoryRestrConverterMapping"
		              class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.mapping.impl.DefaultConverterMapping"
		              p:mapping="SPAR_ECOM_PROMOTION_CATEGORY_FIXED_PRICE" p:converter-ref="promotionFixedPriceCategoryRestrConverter" />
		
				<bean id="promotionFixedPriceCategoryRestrConverter"
		                     class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.impl.DefaultImpexConverter">
		                     <property name="header">
		                           <value>
		                        $productCatalog=sparProductCatalog
								$catalogVersion=catalogversion(catalog(id[default=$productCatalog]),version[default='Online'])[unique=true,default=$productCatalog:Online]
		                        INSERT_UPDATE SparCategoryPromotionRestriction;promotion(code)[unique=true];categories(code, $catalogVersion)
		                           </value>
		                     </property>
		                     <property name="impexRow">
		                           <value>
		                                 ;{+0};{10}
		                           </value>
		                     </property>
		       </bean>
		       
		       
		       <bean id="promotionCategoryFixedPriceRestrConverterMapping"
		              class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.mapping.impl.DefaultConverterMapping"
		              p:mapping="SPAR_ECOM_PROMOTION_CATEGORY_FIXED_PRICE" p:converter-ref="promotionCategoryFixedPriceRestrConverter" />
		
		    <bean id="promotionCategoryFixedPriceRestrConverter"
		                     class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.impl.DefaultImpexConverter">
		                     <property name="header">
		                           <value>
		            INSERT_UPDATE SparWarehousePromotionRestriction;promotion(code)[unique=true];warehouses(code)
		                           </value>
		                     </property>
		                     <property name="impexRow">
		                           <value>
		                                 ;{+0};{11}
		                           </value>
		                     </property>
		       </bean> 
		       
		       <!-- free gift category:Start -->
		       
		       <bean id="promotionFreeGiftCatThresholdConverterMapping"
		              class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.mapping.impl.DefaultConverterMapping"
		              p:mapping="SPAR_ECOM_PROMOTION_CATEGORY_FREEGIFT" p:converter-ref="promotionFreeGiftCatThresholdConverter" />
		
				<bean id="promotionFreeGiftCatThresholdConverter"
		                     class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.impl.DefaultImpexConverter">
		                     <property name="header">
		                           <value>
		                  				INSERT_UPDATE PromotionPriceRow;Currency(isocode)[unique=true];price[unique=true]
		                           </value>
		                     </property>
		                     <property name="impexRow">
		                           <value>
		                                 ;{+6};{+7}
		                           </value>
		                     </property>
		       </bean>
		       
		        <bean id="promotionFreeGiftCategoryConverterMapping"
		              class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.mapping.impl.DefaultConverterMapping"
		              p:mapping="SPAR_ECOM_PROMOTION_CATEGORY_FREEGIFT" p:converter-ref="promotionFreeGiftCategoryConverter" />
		
				<bean id="promotionFreeGiftCategoryConverter"
		                     class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.impl.DefaultImpexConverter">
		                     <property name="header">
		                           <value>#{defaultImpexProductHeader}
		                           		  # Macros / Replacement Parameter definitions
		                                  $defaultPromoGrp=sparPromoGrp
		                                  $productCatalog=sparProductCatalog
		                                  $catalogVersion=catalogversion(catalog(id[default=$productCatalog]),version[default='Online'])[unique=true,default=$productCatalog:Online]
		                                  $supercategories=supercategories(code)
		                                  
		               INSERT_UPDATE OrderThresholdFreeGiftPromotion;code[unique=true];messageFired[lang=en];messageCouldHaveFired[lang=en];priority;startDate[dateformat=dd-MMM-yy];endDate[dateformat=dd-MMM-yy];thresholdTotals(currency(isocode),price);giftProduct(code,$catalogVersion);enabled[default=false][unique=true];PromotionGroup(Identifier[default=$defaultPromoGrp]) 
		                           </value>
		                     </property>
		                     <property name="impexRow">
		                           <value>
		                                ;{+0};{1};{2};{3};{4};{5};{6}:{7};{8};{9}
		                           </value>
		                     </property>
		       </bean>
		       
		       <bean id="promotionFreeGiftCategoryRestrConverterMapping"
		              class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.mapping.impl.DefaultConverterMapping"
		              p:mapping="SPAR_ECOM_PROMOTION_CATEGORY_FREEGIFT" p:converter-ref="promotionFreeGiftCategoryRestrConverter" />
		
				<bean id="promotionFreeGiftCategoryRestrConverter"
		                     class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.impl.DefaultImpexConverter">
		                     <property name="header">
		                           <value>
		                        $productCatalog=sparProductCatalog
								$catalogVersion=catalogversion(catalog(id[default=$productCatalog]),version[default='Online'])[unique=true,default=$productCatalog:Online]
		                        INSERT_UPDATE SparCategoryPromotionRestriction;promotion(code)[unique=true];categories(code, $catalogVersion)
		                           </value>
		                     </property>
		                     <property name="impexRow">
		                           <value>
		                                 ;{+0};{10}
		                           </value>
		                     </property>
		       </bean>
		       
		       <bean id="promotionCategoryFreeGiftRestrConverterMapping"
		              class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.mapping.impl.DefaultConverterMapping"
		              p:mapping="SPAR_ECOM_PROMOTION_CATEGORY_FREEGIFT" p:converter-ref="promotionCategoryFreeGiftRestrConverter" />
		
		    <bean id="promotionCategoryFreeGiftRestrConverter"
		                     class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.impl.DefaultImpexConverter">
		                     <property name="header">
		                           <value>
		            INSERT_UPDATE SparWarehousePromotionRestriction;promotion(code)[unique=true];warehouses(code)
		                           </value>
		                     </property>
		                     <property name="impexRow">
		                           <value>
		                                 ;{+0};{11}
		                           </value>
		                     </property>
		       </bean> 
		       
		       <!-- free gift category:End -->
		      <!-- Pavan -->
		       
		       <!-- Promotion feed import - End -->	
		       
	<!-- Offline Database Service Area feed import - Start- Tanveers -->	
	<!-- <bean id="batchSparServiceAreaConverterMapping"
		class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.mapping.impl.DefaultConverterMapping"
		p:mapping="SERVICE_AREA_DATA" p:converter-ref="batchSparServiceAreaConverter" />

	<bean id="batchSparServiceAreaConverter"
		class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.impl.DefaultImpexConverter">
		<property name="header">
			<value>#{defaultImpexProductHeader}
								
				INSERT_UPDATE SparServiceArea;areaId[unique=true];displayName;area;pincode;defaultStore;defaultCncCenter;city[unique=true];active
				
			</value>
		</property>
		<property name="impexRow">
			<value>
				;{0};{1};{2};{3};{4};{5};{6};{7};{8}
			</value>
		</property>
	</bean> -->
	<!-- Offline Database Service Area feed import - End- Tanveers -->
	
	<!-- Wallet feed import - Start-  -->	
	
	<bean id="walletDetailsConverterMapping"
		class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.mapping.impl.DefaultConverterMapping"
		p:mapping="WALLET_REFUND" p:converter-ref="walletDetailsConverter" />

	<bean id="walletDetailsConverter"
		class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.impl.DefaultImpexConverter">
		<property name="header">
			<value>#{defaultImpexProductHeader}
					Insert WalletDetails;customer(uid);walletAmount;walletFundingReason(code);walletOrder(code);refundDate[dateformat=dd-MMM-yy]
			</value>
		</property>
		<property name="impexRow">
			<value>
				;{0};{1};{2};{3};{4}
			</value>
		</property>
	</bean>
	
	<!-- Wallet feed import - End-  -->
	
	<bean id="employeeDiscountConverterMapping"
		class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.mapping.impl.DefaultConverterMapping"
		p:mapping="SPAR_EMPLOYEE_DISCOUNT" p:converter-ref="employeeDiscountConverter" />

	<bean id="employeeDiscountConverter"
		class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.impl.DefaultImpexConverter">
		<property name="header">
			<value>#{defaultImpexProductHeader}
				UPDATE Customer;employeeCode[unique=true];COActive;COemployeediscountamount;COdateOfJoining[dateformat=dd-MMM-yy];COdateOfBirth[dateformat=dd-MMM-yy]
			</value>
		</property>
		<property name="impexRow">
			<value>
				;{0};{1};{2};{3};{4};{5}
			</value>
		</property>
	</bean>
	
	
	
		<!-- Category feed import - Start-  -->
	
	<bean id="sparBannerProductConverterMapping"
		class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.mapping.impl.DefaultConverterMapping"
		p:mapping="SPAR_ECOM_BANNER_PRODUCTS" p:converter-ref="sparBannerProductConverter" />

	<bean id="sparBannerProductConverter"
		class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.impl.DefaultImpexConverter">
		<property name="header">
			<value>#{defaultImpexProductHeader}
				$lang=en
				$productCatalog=sparProductCatalog
				$productCatalogName=SPAR Product Catalog
				$products=products(code, $catalogVersion)
				$catalogVersion=catalogversion(catalog(id[default=$productCatalog]),version[default='Staged'])[unique=true,default=$productCatalog:Staged]
			INSERT_UPDATE Category;code[unique=true];$catalogVersion;name[lang=$lang];$products
			</value>
		</property>
		<property name="impexRow">
			<value>
				;{0};;{1};{2}
			</value>
		</property>
	</bean>
	
		<!-- Category feed import - End-  -->
		
		<bean id="batchSparVariantLMConverterMapping"
			              class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.mapping.impl.DefaultConverterMapping"
			              p:mapping="SPAR_ECOM_LEGAL_METROLOGY" p:converter-ref="batchSparVariantLMConverter" />
			
			<bean id="batchSparVariantLMConverter"
	                     class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.impl.DefaultImpexConverter">
	                     <property name="header">
	                           <value>#{defaultImpexProductHeader}
	                                  $productCatalog=sparProductCatalog
	                                  $catalogVersion=catalogversion(catalog(id[default=$productCatalog]),version[default='Staged'])[unique=true,default=$productCatalog:Staged]
	                                  $supercategories=supercategories(code, $catalogVersion)
	                                  $approved=approvalstatus(code)[default='unapproved']
	                                  $lang=en
	                                  $baseProduct=baseProduct(code,$catalogVersion)
									  $taxGroup=Europe1PriceFactory_PTG(code)[default=in-vat-full]
									  
	                                  UPDATE Product;code[unique=true];produceEAN;productBrand;manufacture;importedBy;netQuantity;productSize;bestBefore;usedByDate;customercare;$catalogVersion
	                           </value>
	                     </property>
	                     <property name="impexRow">
	                           <value>
	                                  ;{0};{1};{2};{3};{4};{5};{6};{7};{8};{9};
	                           </value>
	                     </property>
	       </bean>
		   
		   
		   
		   
	                     <bean id="promotionBXGYFConverterMapping"
		              class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.mapping.impl.DefaultConverterMapping"
		              p:mapping="SPAR_ECOM_PROMOTION_BXGYF" p:converter-ref="promotionBXGYFConverter" />
		
		       <bean id="promotionBXGYFConverter"
		                     class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.impl.DefaultImpexConverter">
		                     <property name="header">
		                           <value>#{defaultImpexProductHeader}
		                           		  # Macros / Replacement Parameter definitions
		                                  $defaultPromoGrp=sparPromoGrp
		                                  $productCatalog=sparProductCatalog
		                                  $catalogVersion=catalogversion(catalog(id[default=$productCatalog]),version[default='Online'])[unique=true,default=$productCatalog:Online]
		                   INSERT_UPDATE SparProductBXGYFPromotion;code[unique=true];qualifyingCount;freeCount;priority;products(code,$catalogVersion);startDate[dateformat=dd-MMM-yy];endDate[dateformat=dd-MMM-yy];enabled[default=false][unique=true];freeProducts(code,$catalogVersion);PromotionGroup(Identifier[default=$defaultPromoGrp])
		                           </value>
		                     </property>
		                     <property name="impexRow">
		                           <value>
		                                 ;{+0};{1};{2};{3};{4};{5};{6};{7};{9}
		                           </value>
		                     </property>
		       </bean>
			   
			   
		       
		       <bean id="promotionBXGYFRestrConverterMapping"
		              class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.mapping.impl.DefaultConverterMapping"
		              p:mapping="SPAR_ECOM_PROMOTION_BXGYF" p:converter-ref="promotionBXGYFRestrConverter" />
		
		        <bean id="promotionBXGYFRestrConverter"
		                     class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.impl.DefaultImpexConverter">
		                     <property name="header">
		                           <value>
		                            INSERT_UPDATE SparWarehousePromotionRestriction;promotion(code)[unique=true];warehouses(code)
		                           </value>
		                     </property>
		                     <property name="impexRow">
		                           <value>
		                            ;{+0};{8}
		                           </value>
		                     </property>
		       </bean>	
		       
		       
		       
		                        <!--  Category threshold - Item at Fixed Price import -->
		
		        <bean id="promotionCatItemFixPriceConverterMapping"
		              class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.mapping.impl.DefaultConverterMapping"
		              p:mapping="SPAR_ECOM_PROMOTION_CATEGORYITEM_FIXED_PRICE" p:converter-ref="promotionCatItemFixPriceConverter" />
		
				<bean id="promotionCatItemFixPriceConverter"
		                     class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.impl.DefaultImpexConverter">
		                     <property name="header">
		                           <value>#{defaultImpexProductHeader}
		                           		  # Macros / Replacement Parameter definitions
		                                  $defaultPromoGrp=sparPromoGrp
		                                  $productCatalog=sparProductCatalog
		                                  $catalogVersion=catalogversion(catalog(id[default=$productCatalog]),version[default='Online'])[unique=true,default=$productCatalog:Online]
		                   INSERT_UPDATE PromotionPriceRow;Currency(isocode)[unique=true];price[unique=true]
		                           </value>
		                     </property>
		                     <property name="impexRow">
		                           <value>
		                                 ;{+3};{+4}
		                           </value>
		                     </property>
		        </bean>
				
				<bean id="promotionCatItemPRFixPriceConverterMapping"
		              class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.mapping.impl.DefaultConverterMapping"
		              p:mapping="SPAR_ECOM_PROMOTION_CATEGORYITEM_FIXED_PRICE" p:converter-ref="promotionCatItemPRFixPriceConverter" />
		
				<bean id="promotionCatItemPRFixPriceConverter"
		                     class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.impl.DefaultImpexConverter">
		                     <property name="header">
		                           <value>#{defaultImpexProductHeader}
		                           		  # Macros / Replacement Parameter definitions
		                                  $defaultPromoGrp=sparPromoGrp
		                                  $productCatalog=sparProductCatalog
		                                  $catalogVersion=catalogversion(catalog(id[default=$productCatalog]),version[default='Online'])[unique=true,default=$productCatalog:Online]
		                   INSERT_UPDATE PromotionPriceRow;Currency(isocode)[unique=true];price[unique=true]
		                           </value>
		                     </property>
		                     <property name="impexRow">
		                           <value>
		                                 ;{+3};{+5}
		                           </value>
		                     </property>
		        </bean>
		       
		        
				
				<bean id="promotionCatItemFixedPriceConverterMapping"
		              class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.mapping.impl.DefaultConverterMapping"
		              p:mapping="SPAR_ECOM_PROMOTION_CATEGORYITEM_FIXED_PRICE" p:converter-ref="promotionCatItemFixedPriceConverter" />
		
				<bean id="promotionCatItemFixedPriceConverter"
		                     class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.impl.DefaultImpexConverter">
		                     <property name="header">
		                           <value>#{defaultImpexProductHeader}
		                           		  # Macros / Replacement Parameter definitions
		                                  $defaultPromoGrp=sparPromoGrp
		                                  $productCatalog=sparProductCatalog
		                                  $catalogVersion=catalogversion(catalog(id[default=$productCatalog]),version[default='Online'])[unique=true,default=$productCatalog:Online]
		               INSERT_UPDATE SparCategoryItemAtFixedPricePromotion;code[unique=true];priority;productFixedUnitPrice(currency(isocode),price);thresholdTotals(currency(isocode),price);products(code,$catalogVersion);startDate[dateformat=dd-MMM-yy];endDate[dateformat=dd-MMM-yy];enabled[default=false][unique=true];PromotionGroup(Identifier[default=$defaultPromoGrp])
		                           </value>
		                     </property>
		                     <property name="impexRow">
		                           <value>
		                                ;{+0};{2};{3}:{4};{3}:{5};{6};{7};{8};{9};
		                           </value>
		                     </property>
		       </bean>
		       
		       
			   
			   <bean id="promotionCatItemFixedPriceRestrConverterMapping"
		              class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.mapping.impl.DefaultConverterMapping"
		              p:mapping="SPAR_ECOM_PROMOTION_CATEGORYITEM_FIXED_PRICE" p:converter-ref="promotionCatItemFixedPriceRestrConverter" />
		
				<bean id="promotionCatItemFixedPriceRestrConverter"
		                     class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.impl.DefaultImpexConverter">
		                     <property name="header">
		                           <value>
		            INSERT_UPDATE SparWarehousePromotionRestriction;promotion(code)[unique=true];warehouses(code)
		                           </value>
		                     </property>
		                     <property name="impexRow">
		                           <value>
		                                 ;{+0};{10}
		                           </value>
		                     </property>
		        </bean>
				
				
				
				 <bean id="promotionCatItemFixedPriceCategoryRestrConverterMapping"
		              class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.mapping.impl.DefaultConverterMapping"
		              p:mapping="SPAR_ECOM_PROMOTION_CATEGORYITEM_FIXED_PRICE" p:converter-ref="promotionCatItemFixedPriceCategoryRestrConverter" />
		
				<bean id="promotionCatItemFixedPriceCategoryRestrConverter"
		                     class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.impl.DefaultImpexConverter">
		                     <property name="header">
		                           <value>
		                        $productCatalog=sparProductCatalog
								$catalogVersion=catalogversion(catalog(id[default=$productCatalog]),version[default='Online'])[unique=true,default=$productCatalog:Online]
		                        INSERT_UPDATE SparCategoryItemPromotionRestriction;promotion(code)[unique=true];categories(code, $catalogVersion)
		                           </value>
		                     </property>
		                     <property name="impexRow">
		                           <value>
		                                 ;{+0};{1}
		                           </value>
		                     </property>
		       </bean>	
		       
		       
		       <!-- Category threshold - item at fixed discount -->
			

		 <bean id="promotionCatItemPercentDiscConverterMapping"
		              class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.mapping.impl.DefaultConverterMapping"
		              p:mapping="SPAR_ECOM_PROMOTION_CATEGORYITEM_PERCENT" p:converter-ref="promotionCatItemPercentDiscConverter" />
		
				<bean id="promotionCatItemPercentDiscConverter"
		                     class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.impl.DefaultImpexConverter">
		                     <property name="header">
		                           <value>#{defaultImpexProductHeader}
		                           		  # Macros / Replacement Parameter definitions
		                                  $defaultPromoGrp=sparPromoGrp
		                                  $productCatalog=sparProductCatalog
		                                  $catalogVersion=catalogversion(catalog(id[default=$productCatalog]),version[default='Online'])[unique=true,default=$productCatalog:Online]
		                   INSERT_UPDATE PromotionPriceRow;Currency(isocode)[unique=true];price[unique=true]
		                           </value>
		                     </property>
		                     <property name="impexRow">
		                           <value>
		                                 ;{+4};{+5}
		                           </value>
		                     </property>
		        </bean>
				
		<bean id="promotionCatItemPercentDiscountConverterMapping"
		              class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.mapping.impl.DefaultConverterMapping"
		              p:mapping="SPAR_ECOM_PROMOTION_CATEGORYITEM_PERCENT" p:converter-ref="promotionCateItemPercentDiscountConverter" />
		
		<bean id="promotionCateItemPercentDiscountConverter"
		                     class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.impl.DefaultImpexConverter">
		                     <property name="header">
		                           <value>#{defaultImpexProductHeader}
		                           		  # Macros / Replacement Parameter definitions
		                                  $defaultPromoGrp=sparPromoGrp
		                                  $productCatalog=sparProductCatalog
		                                  $catalogVersion=catalogversion(catalog(id[default=$productCatalog]),version[default='Online'])[unique=true,default=$productCatalog:Online]
		                     INSERT_UPDATE SparCategoryItemAtFixedDiscPromotion;code[unique=true];priority;percentageDiscount;thresholdTotals(currency(isocode),price);products(code,$catalogVersion);startDate[dateformat=dd-MMM-yy];endDate[dateformat=dd-MMM-yy];enabled[default=false][unique=true];PromotionGroup(Identifier[default=$defaultPromoGrp])
		                           </value>
		                     </property>
		                     <property name="impexRow">
		                           <value>
		                                 ;{+0};{2};{3};{4}:{5};{6};{7};{8};{9};
		                           </value>
		                     </property>
		       </bean>
		       
		       <bean id="promotionCatItemPercentDiscountRestrConverterMapping"
		              class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.mapping.impl.DefaultConverterMapping"
		              p:mapping="SPAR_ECOM_PROMOTION_CATEGORYITEM_PERCENT" p:converter-ref="promotionCatItemPercentDiscountRestrConverter" />
		
		<bean id="promotionCatItemPercentDiscountRestrConverter"
		                     class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.impl.DefaultImpexConverter">
		                     <property name="header">
		                           <value>
		            INSERT_UPDATE SparWarehousePromotionRestriction;promotion(code)[unique=true];warehouses(code)
		                           </value>
		                     </property>
		                     <property name="impexRow">
		                           <value>
		                                 ;{+0};{10}
		                           </value>
		                     </property>
		       </bean> 
			   
			   
			    <bean id="promotionCatItemPercentDiscCategoryRestrConverterMapping"
		              class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.mapping.impl.DefaultConverterMapping"
		              p:mapping="SPAR_ECOM_PROMOTION_CATEGORYITEM_PERCENT" p:converter-ref="promotionCatItemPercentDiscCategoryRestrConverter" />
		
				<bean id="promotionCatItemPercentDiscCategoryRestrConverter"
		                     class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.impl.DefaultImpexConverter">
		                     <property name="header">
		                           <value>
		                        $productCatalog=sparProductCatalog
								$catalogVersion=catalogversion(catalog(id[default=$productCatalog]),version[default='Online'])[unique=true,default=$productCatalog:Online]
		                        INSERT_UPDATE SparCategoryItemPromotionRestriction;promotion(code)[unique=true];categories(code, $catalogVersion)
		                           </value>
		                     </property>
		                     <property name="impexRow">
		                           <value>
		                                 ;{+0};{1}
		                           </value>
		                     </property>
		       </bean>	
				
				<bean id="metaTagDetailsConverterMapping"
		              class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.mapping.impl.DefaultConverterMapping"
		              p:mapping="SPAR_ECOM_METATAG_DETAILS" p:converter-ref="metaTagDetailsConverter" />
		
				<bean id="metaTagDetailsConverter"
		                     class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.impl.DefaultImpexConverter">
		                     <property name="header">
		                           <value>
		                        $productCatalog=sparProductCatalog
								$catalogVersion=catalogversion(catalog(id[default=$productCatalog]),version[default='Staged'])[unique=true,default=$productCatalog:Staged]
		                       INSERT_UPDATE Category;code[unique=true];sparCategoryTitle;sparTitle;description[lang=en];$catalogVersion;allowedPrincipals(uid)[default='customergroup']
		                           </value>
		                     </property>
		                     <property name="impexRow">
		                           <value>
		                                 ;{+0};{1};{2};{3}
		                           </value>
		                     </property>
		       </bean>
		        <!-- To upload SPAR Online SKU to Offline SKU mapping START	-->
				<bean id="batchSparOnlineOfflineSKUConverterMapping"
					class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.mapping.impl.DefaultConverterMapping"
					p:mapping="SPAR_PRODUCT_ONLINEOFFLINESKUS_MAPPING" p:converter-ref="batchSparOnlineOfflineSKUConverter" />
			
				<bean id="batchSparOnlineOfflineSKUConverter"
					class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.impl.DefaultImpexConverter">
					<property name="header">
						<value>
							INSERT_UPDATE SparOnlineOfflineSKU;onlineSKU[unique=true];offlineSKU[unique=true];grammageRatio
						</value>
					</property>
					<property name="impexRow">
						<value>
							;{+0};{1};{2}
						</value>
					</property>
				</bean>
				<!-- To upload SPAR Online SKU to Offline SKU mapping END --> 

			 <!-- Order Threshold :: Category level promotion -->
		       
		        <bean id="orderThresholdCategoryFixedDiscountPromoConverterMapping"
		              class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.mapping.impl.DefaultConverterMapping"
		              p:mapping="SPAR_ECOM_PROMOTION_CATEGORYORDER_FIXED_DISCOUNT" p:converter-ref="orderThresholdCategoryFixedDiscountPromoConverter" />
		
				<bean id="orderThresholdCategoryFixedDiscountPromoConverter"
		                     class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.impl.DefaultImpexConverter">
		                     <property name="header">
		                           <value>
		                  				INSERT_UPDATE PromotionPriceRow;Currency(isocode)[unique=true];price[unique=true]
		                           </value>
		                     </property>
		                     <property name="impexRow">
		                           <value>
		                                 ;{+2};{+3}
		                           </value>
		                     </property>
		       </bean>
		       
		       <bean id="discountCategoryFixedDiscountPromoConverterMapping"
		              class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.mapping.impl.DefaultConverterMapping"
		              p:mapping="SPAR_ECOM_PROMOTION_CATEGORYORDER_FIXED_DISCOUNT" p:converter-ref="discountCategoryFixedDiscountPromoConverter" />
		
				<bean id="discountCategoryFixedDiscountPromoConverter"
		                     class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.impl.DefaultImpexConverter">
		                     <property name="header">
		                           <value>
		                  				INSERT_UPDATE PromotionPriceRow;Currency(isocode)[unique=true];price[unique=true]
		                           </value>
		                     </property>
		                     <property name="impexRow">
		                           <value>
		                                 ;{+2};{+4}
		                           </value>
		                     </property>
		       </bean>
		       
		       
		       <bean id="promotionCategoryOrderFixedDiscountConverterMapping"
		              class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.mapping.impl.DefaultConverterMapping"
		              p:mapping="SPAR_ECOM_PROMOTION_CATEGORYORDER_FIXED_DISCOUNT" p:converter-ref="promotionCategoryOrderFixedDiscountConverter" />
		
				<bean id="promotionCategoryOrderFixedDiscountConverter"
		                     class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.impl.DefaultImpexConverter">
		                     <property name="header">
		                           <value>#{defaultImpexProductHeader}
		                           		  # Macros / Replacement Parameter definitions
		                                  $defaultPromoGrp=sparPromoGrp
		                                  $productCatalog=sparProductCatalog
		                                  
		                                  $catalogVersion=catalogversion(catalog(id[default=$productCatalog]),version[default='Online'])[unique=true,default=$productCatalog:Online]
		                                  $supercategories=supercategories(code)
		                                  
		               INSERT_UPDATE SparOrderThresholdFixedDiscountPromotion;code[unique=true];thresholdTotals(currency(isocode),price);discountPrices(currency(isocode),price);priority;startDate[dateformat=dd-MMM-yy];endDate[dateformat=dd-MMM-yy];enabled[default=false][unique=true];PromotionGroup(Identifier[default=$defaultPromoGrp])
		                           </value>
		                     </property>
		                     <property name="impexRow">
		                           <value>
		                                 ;{+0};{2}:{3};{2}:{4};{1};{5};{6};{7}
		                           </value>
		                     </property>
		       </bean>
		       
		       <bean id="categoryOrderThresholdFixedDiscountRestrConverterMapping"
		              class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.mapping.impl.DefaultConverterMapping"
		              p:mapping="SPAR_ECOM_PROMOTION_CATEGORYORDER_FIXED_DISCOUNT" p:converter-ref="categoryOrderThresholdFixedDiscountRestrConverter" />
		
				<bean id="categoryOrderThresholdFixedDiscountRestrConverter"
		                     class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.impl.DefaultImpexConverter">
		                     <property name="header">
		                           <value>
		                        $productCatalog=sparProductCatalog
								$catalogVersion=catalogversion(catalog(id[default=$productCatalog]),version[default='Online'])[unique=true,default=$productCatalog:Online]
		                        INSERT_UPDATE SparPromotionCategoryRestriction;promotion(code)[unique=true];categories(code, $catalogVersion)
		                           </value>
		                     </property>
		                     <property name="impexRow">
		                           <value>
		                                 ;{+0};{9}
		                           </value>
		                     </property>
		       </bean>
		       
		       
		       <bean id="warehouseOrderThresholdFixedDiscountRestrConverterMapping"
		              class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.mapping.impl.DefaultConverterMapping"
		              p:mapping="SPAR_ECOM_PROMOTION_CATEGORYORDER_FIXED_DISCOUNT" p:converter-ref="warehouseOrderThresholdFixedDiscountRestr" />
		
		    <bean id="warehouseOrderThresholdFixedDiscountRestr"
		                     class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.impl.DefaultImpexConverter">
		                     <property name="header">
		                           <value>
		            INSERT_UPDATE SparWarehousePromotionRestriction;promotion(code)[unique=true];warehouses(code)
		                           </value>
		                     </property>
		                     <property name="impexRow">
		                           <value>
		                                 ;{+0};{8}
		                           </value>
		                     </property>
		       </bean>   
		       
		       
		       <!-- 2. -->
		        <bean id="orderThresholdCategoryPercentDiscountPromoConverterMapping"
		              class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.mapping.impl.DefaultConverterMapping"
		              p:mapping="SPAR_ECOM_PROMOTION_CATEGORYORDER_PERCENT_DISCOUNT" p:converter-ref="orderThresholdCategoryPercentDiscountPromoConverter" />
		
				<bean id="orderThresholdCategoryPercentDiscountPromoConverter"
		                     class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.impl.DefaultImpexConverter">
		                     <property name="header">
		                           <value>
		                  				INSERT_UPDATE PromotionPriceRow;Currency(isocode)[unique=true];price[unique=true]
		                           </value>
		                     </property>
		                     <property name="impexRow">
		                           <value>
		                                 ;{+2};{+3}
		                           </value>
		                     </property>
		       </bean>
		       
		       
		       <bean id="promotionCategoryOrderPercentDiscountConverterMapping"
		              class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.mapping.impl.DefaultConverterMapping"
		              p:mapping="SPAR_ECOM_PROMOTION_CATEGORYORDER_PERCENT_DISCOUNT" p:converter-ref="promotionCategoryOrderPercentDiscountConverter" />
		
				<bean id="promotionCategoryOrderPercentDiscountConverter"
		                     class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.impl.DefaultImpexConverter">
		                     <property name="header">
		                           <value>#{defaultImpexProductHeader}
		                           		  # Macros / Replacement Parameter definitions
		                                  $defaultPromoGrp=sparPromoGrp
		                                  $productCatalog=sparProductCatalog
		                                  
		                                  $catalogVersion=catalogversion(catalog(id[default=$productCatalog]),version[default='Online'])[unique=true,default=$productCatalog:Online]
		                                  $supercategories=supercategories(code)
		                                  
		               INSERT_UPDATE SparOrderThresholdPercentDiscountPromotion;code[unique=true];thresholdTotals(currency(isocode),price);percentageDiscount;priority;startDate[dateformat=dd-MMM-yy];endDate[dateformat=dd-MMM-yy];enabled[default=false][unique=true];PromotionGroup(Identifier[default=$defaultPromoGrp])
		                           </value>
		                     </property>
		                     <property name="impexRow">
		                           <value>
		                                 ;{+0};{2}:{3};{4};{1};{5};{6};{7}
		                           </value>
		                     </property>
		       </bean>
		       
		       <bean id="categoryOrderThresholdPercentDiscountRestrConverterMapping"
		              class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.mapping.impl.DefaultConverterMapping"
		              p:mapping="SPAR_ECOM_PROMOTION_CATEGORYORDER_PERCENT_DISCOUNT" p:converter-ref="categoryOrderThresholdPercentDiscountRestrConverter" />
		
				<bean id="categoryOrderThresholdPercentDiscountRestrConverter"
		                     class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.impl.DefaultImpexConverter">
		                     <property name="header">
		                           <value>
		                        $productCatalog=sparProductCatalog
								$catalogVersion=catalogversion(catalog(id[default=$productCatalog]),version[default='Online'])[unique=true,default=$productCatalog:Online]
		                        INSERT_UPDATE SparPromotionCategoryRestriction;promotion(code)[unique=true];categories(code, $catalogVersion)
		                           </value>
		                     </property>
		                     <property name="impexRow">
		                           <value>
		                                 ;{+0};{9}
		                           </value>
		                     </property>
		       </bean>
		       
		       
		       <bean id="warehouseOrderThresholdPercentDiscountRestrConverterMapping"
		              class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.mapping.impl.DefaultConverterMapping"
		              p:mapping="SPAR_ECOM_PROMOTION_CATEGORYORDER_PERCENT_DISCOUNT" p:converter-ref="warehouseOrderThresholdPercentDiscountRestr" />
		
		    <bean id="warehouseOrderThresholdPercentDiscountRestr"
		                     class="de.hybris.platform.acceleratorservices.dataimport.batch.converter.impl.DefaultImpexConverter">
		                     <property name="header">
		                           <value>
		            INSERT_UPDATE SparWarehousePromotionRestriction;promotion(code)[unique=true];warehouses(code)
		                           </value>
		                     </property>
		                     <property name="impexRow">
		                           <value>
		                                 ;{+0};{8}
		                           </value>
		                     </property>
		       </bean>     
		   				
			          		   
</beans>
